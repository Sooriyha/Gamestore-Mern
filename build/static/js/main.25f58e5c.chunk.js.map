{"version":3,"sources":["StateProvider.js","firebase.js","Header.js","Product.js","Home.js","CheckoutProduct.js","reducer.js","Subtotal.js","Checkout.js","Login.js","axios.js","Payment.js","Order.js","Orders.js","App.js","reportWebVitals.js","index.js"],"names":["StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","db","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","Header","basket","user","className","to","src","alt","type","onClick","signOut","email","length","Product","title","price","rating","dispatch","console","log","Array","fill","map","_","i","item","Home","CheckoutProduct","hideButton","getBasketTotal","reduce","amount","state","action","index","findIndex","basketItem","id","newBasket","splice","warn","Subtotal","history","useHistory","renderText","decimalScale","displayType","thousandSeparator","prefix","e","push","Checkout","Login","useState","setEmail","password","setPassword","onChange","target","preventDefault","signInWithEmailAndPassword","then","catch","error","alert","message","createUserWithEmailAndPassword","instance","axios","create","baseURL","Payment","stripe","useStripe","elements","useElements","succeeded","setSucceeded","processing","setProcessing","setError","disabled","setDisabled","clientSecret","setClientSecret","useEffect","a","Axios","method","url","response","data","getClientSecret","handleSubmit","confirmCardPayment","payment_method","card","getElement","CardElement","paymentIntent","collection","doc","uid","set","created","replace","onSubmit","empty","Order","order","moment","unix","format","Orders","setOrders","orderBy","onSnapshot","snapshot","docs","promise","loadStripe","App","onAuthStateChanged","authUser","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.25f58e5c.chunk.js","sourcesContent":["import React, { createContext, useContext, useReducer } from \"react\";\n\n//prepares the datalayer\nexport const StateContext = createContext();\n\n//wraps our app and provides the data layer\nexport const StateProvider = ({ reducer, initialState, children }) => (\n    <StateContext.Provider value={useReducer(reducer, initialState)}>\n        {children}\n    </StateContext.Provider>\n);\n\n//pulls information from the datalayer\nexport const useStateValue = () => useContext(StateContext);\n","import firebase from \"firebase\";\n\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyDr_3rQgh_kuGQm1b33cV9gpEQHV0t19S4\",\n    authDomain: \"food-del-d46f4.firebaseapp.com\",\n    projectId: \"food-del-d46f4\",\n    storageBucket: \"food-del-d46f4.appspot.com\",\n    messagingSenderId: \"174292383333\",\n    appId: \"1:174292383333:web:1f7925b59c455b9d94788c\",\n    measurementId: \"G-MZQ63SP2SE\",\n};\n\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\n\nconst db = firebaseApp.firestore();\nconst auth = firebase.auth();\n\nexport { db, auth };\n","import \"./Header.css\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport ShoppingCartIcon from \"@material-ui/icons/ShoppingCart\";\nimport { Link } from \"react-router-dom\";\nimport { useStateValue } from \"./StateProvider\";\nimport { auth } from \"./firebase\";\n\nfunction Header() {\n    const [{ basket, user }, dispatch] = useStateValue();\n\n    const handleAuthentication = () => {\n        if (user) {\n            auth.signOut();\n        }\n    };\n\n    return (\n        <div className=\"header\">\n            <Link to=\"/\">\n                <img\n                    className=\"header__logo\"\n                    src=\"https://i.pinimg.com/originals/ff/c3/d3/ffc3d3f7e25c28ea2d3fe42231736f00.png\"\n                    alt=\"logo\"\n                />\n            </Link>\n\n            <div className=\"header__search\">\n                <input className=\"header__searchInput\" type=\"text\" />\n                <SearchIcon className=\"header__searchIcon\" />\n            </div>\n            <div className=\"header__nav\">\n                <Link to={!user && \"/login\"}>\n                    <div\n                        onClick={handleAuthentication}\n                        className=\"header__option\"\n                    >\n                        <span className=\"header__optionLineOne\">\n                            Hello, {user ? user.email : \"Guest\"}\n                        </span>\n                        <span className=\"header__optionLineTwo\">\n                            {user ? \"Sign Out\" : \"Sign In\"}\n                        </span>\n                    </div>\n                </Link>\n                <Link to=\"/orders\">\n                    <div className=\"header__option\">\n                        <span className=\"header__optionLineOne\">Your</span>\n                        <span className=\"header__optionLineTwo\">Orders</span>\n                    </div>\n                </Link>\n\n                <Link to=\"/checkout\">\n                    <div className=\"header__optionBasket\">\n                        <ShoppingCartIcon />\n                        <span className=\"header__optionLineOne header__basketCount\">\n                            {basket?.length}\n                        </span>\n                    </div>\n                </Link>\n            </div>\n        </div>\n    );\n}\n\nexport default Header;\n","import React from \"react\";\nimport \"./Product.css\";\nimport { useStateValue } from \"./StateProvider\";\n\nfunction Product({ title, price, rating }) {\n    const [{ basket }, dispatch] = useStateValue();\n    console.log(\"this is the basket >>> \", basket);\n\n    const addToBasket = () => {\n        //dispatch the item into the data layer\n        dispatch({\n            type: \"ADD_TO_BASKET\",\n            item: {\n                title: title,\n                price: price,\n                rating: rating,\n            },\n        });\n    };\n    return (\n        <div className=\"product\">\n            <div className=\"product__title\">\n                <p>{title}</p>\n            </div>\n            <div className=\"product__price\">\n                <p>₹{price}</p>\n            </div>\n            <div className=\"product__rating\">\n                {Array(rating)\n                    .fill()\n                    .map((_, i) => (\n                        <p>⭐</p>\n                    ))}\n            </div>\n            <button onClick={addToBasket}>Add</button>\n        </div>\n    );\n}\n\nexport default Product;\n","import \"./Home.css\";\nimport Product from \"./Product\";\n\nfunction Home() {\n    return (\n        <div className=\"home\">\n            <div className=\"home__container\">\n                <img\n                    className=\"home__image\"\n                    src=\"https://res.cloudinary.com/sanitarium/image/fetch/q_auto/https://www.sanitarium.com.au/getmedia%2Fae51f174-984f-4a70-ad3d-3f6b517b6da1%2Ffruits-vegetables-healthy-fats.jpg%3Fwidth%3D1180%26height%3D524%26ext%3D.jpg\"\n                    alt=\"food banner\"\n                />\n                <div className=\"home__row\">\n                    <Product title=\"Apple\" price={200.0} rating={3} />\n                    <Product title=\"Banana\" price={150.0} rating={4} />\n                    <Product title=\"Watermelon\" price={100.0} rating={5} />\n                    <Product title=\"Big Apple\" price={150.0} rating={1} />\n                </div>\n                <div className=\"home__row\">\n                    <Product title=\"Big Banana\" price={120.0} rating={5} />\n                    <Product title=\"Guava\" price={200.0} rating={3} />\n                    <Product title=\"Small Apple\" price={125.0} rating={2} />\n                </div>\n                <div className=\"home__row\">\n                    <Product title=\"Tomato\" price={300.0} rating={3} />\n                    <Product title=\"Pear\" price={250.0} rating={2} />\n                    <Product title=\"Orange\" price={125.0} rating={5} />\n                    <Product title=\"Tangerine\" price={100.0} rating={1} />\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Home;\n","import React from \"react\";\nimport \"./CheckoutProduct.css\";\nimport { useStateValue } from \"./StateProvider\";\n\nfunction CheckoutProduct({ title, price, rating, hideButton }) {\n    const [{ basket }, dispatch] = useStateValue();\n\n    const removeFromBasket = () => {\n        dispatch({\n            type: \"REMOVE_FROM_BASKET\",\n            title: title,\n        });\n    };\n    return (\n        <div className=\"checkoutProduct\">\n            <div className=\"checkoutProduct__info\">\n                <p className=\"checkoutProduct__title\">{title}</p>\n                <p className=\"checkoutProduct__price\">\n                    <p>₹{price}</p>\n                </p>\n                <p className=\"checkoutProduct__rating\">\n                    {Array(rating)\n                        .fill()\n                        .map((_, i) => (\n                            <p>⭐</p>\n                        ))}\n                </p>\n                {!hideButton && (\n                    <button onClick={removeFromBasket}>\n                        Remove from Basket\n                    </button>\n                )}\n            </div>\n        </div>\n    );\n}\n\nexport default CheckoutProduct;\n","export const initialState = {\n    basket: [],\n    user: null,\n};\n\n//selector\nexport const getBasketTotal = (basket) =>\n    basket?.reduce((amount, item) => item.price + amount, 0);\n\nconst reducer = (state, action) => {\n    console.log(action);\n    switch (action.type) {\n        case \"ADD_TO_BASKET\":\n            return {\n                ...state,\n                basket: [...state.basket, action.item],\n            };\n        case \"EMPTY_BASKET\":\n            return {\n                ...state,\n                basket: [],\n            };\n        case \"REMOVE_FROM_BASKET\":\n            const index = state.basket.findIndex(\n                (basketItem) => basketItem.id === action.id\n            );\n            let newBasket = [...state.basket];\n            if (index >= 0) {\n                newBasket.splice(index, 1);\n            } else {\n                console.warn(\n                    `Cant remove product (title: ${action.title}) as its not in basket!`\n                );\n            }\n            return {\n                ...state,\n                basket: newBasket,\n            };\n        case \"SET_USER\":\n            return {\n                ...state,\n                user: action.user,\n            };\n        default:\n            return state;\n    }\n};\n\nexport default reducer;\n","import React from \"react\";\nimport \"./Subtotal.css\";\nimport CurrencyFormat from \"react-currency-format\";\nimport { useStateValue } from \"./StateProvider\";\nimport { getBasketTotal } from \"./reducer\";\nimport { useHistory } from \"react-router-dom\";\n\nfunction Subtotal() {\n    const history = useHistory();\n    const [{ basket }, dispatch] = useStateValue();\n\n    return (\n        <div className=\"subtotal\">\n            <CurrencyFormat\n                renderText={(value) => (\n                    <>\n                        <p>\n                            Subtotal ({basket?.length} items) :\n                            <strong> {value}</strong>\n                        </p>\n                    </>\n                )}\n                decimalScale={2}\n                value={getBasketTotal(basket)}\n                displayType={\"text\"}\n                thousandSeparator={true}\n                prefix={\"₹\"}\n            />\n\n            <button onClick={(e) => history.push(\"/payment\")}>\n                Proceed to Checkout\n            </button>\n        </div>\n    );\n}\n\nexport default Subtotal;\n","import React from \"react\";\nimport \"./Checkout.css\";\nimport CheckoutProduct from \"./CheckoutProduct\";\nimport { useStateValue } from \"./StateProvider\";\nimport Subtotal from \"./Subtotal\";\n\nfunction Checkout() {\n    const [{ basket, user }, dispatch] = useStateValue();\n    return (\n        <div className=\"checkout\">\n            <div className=\"checkout__left\">\n                <div>\n                    <h3>Hello, {user ? user.email : \"Guest\"}</h3>\n                    <h2 className=\"checkout__title\">Your Cart</h2>\n                    {basket.map((item) => (\n                        <CheckoutProduct\n                            title={item.title}\n                            price={item.price}\n                            rating={item.rating}\n                        />\n                    ))}\n                </div>\n            </div>\n\n            <div className=\"checkout__right\">\n                <Subtotal />\n            </div>\n        </div>\n    );\n}\n\nexport default Checkout;\n","import { Link, useHistory } from \"react-router-dom\";\nimport React, { useState } from \"react\";\nimport \"./Login.css\";\nimport { auth } from \"./firebase\";\n\nfunction Login() {\n    const history = useHistory();\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n\n    const signIn = (e) => {\n        e.preventDefault();\n\n        auth.signInWithEmailAndPassword(email, password)\n            .then((auth) => {\n                history.push(\"/\");\n            })\n            .catch((error) => alert(error.message));\n    };\n\n    const register = (e) => {\n        e.preventDefault();\n\n        auth.createUserWithEmailAndPassword(email, password)\n            .then((auth) => {\n                console.log(auth);\n                if (auth) {\n                    history.push(\"/\");\n                }\n            })\n            .catch((error) => alert(error.message));\n    };\n\n    return (\n        <div className=\"login\">\n            <Link to=\"/\">\n                <img\n                    className=\"login__logo\"\n                    src=\"https://i.pinimg.com/originals/ff/c3/d3/ffc3d3f7e25c28ea2d3fe42231736f00.png\"\n                    alt=\"logo\"\n                />\n            </Link>\n            <div className=\"login__container\">\n                <h1>Sign-in</h1>\n                <form>\n                    <h5>E-mail</h5>\n                    <input\n                        type=\"text\"\n                        value={email}\n                        onChange={(e) => setEmail(e.target.value)}\n                    />\n                    <h5>Password</h5>\n                    <input\n                        type=\"password\"\n                        value={password}\n                        onChange={(e) => setPassword(e.target.value)}\n                    />\n                    <button\n                        type=\"submit\"\n                        onClick={signIn}\n                        className=\"login__signInButton\"\n                    >\n                        Sign In\n                    </button>\n                </form>\n                <button onClick={register} className=\"login__registerButton\">\n                    Create your Account\n                </button>\n            </div>\n        </div>\n    );\n}\n\nexport default Login;\n","import axios from \"axios\";\n\nconst instance = axios.create({\n    //THE API (CLOUD FUNCTION) URL\n    baseURL: \"https://us-central1-food-del-d46f4.cloudfunctions.net/api\",\n    // \"http://localhost:5001/food-del-d46f4/us-central1/api\",\n});\n\nexport default instance;\n","import { Link, useHistory } from \"react-router-dom\";\nimport React, { useState, useEffect } from \"react\";\nimport CheckoutProduct from \"./CheckoutProduct\";\nimport \"./Payment.css\";\nimport { useStateValue } from \"./StateProvider\";\nimport { CardElement, useElements, useStripe } from \"@stripe/react-stripe-js\";\nimport CurrencyFormat from \"react-currency-format\";\nimport { getBasketTotal } from \"./reducer\";\nimport Axios from \"./axios\";\nimport { db } from \"./firebase\";\n\nfunction Payment() {\n    const [{ basket, user }, dispatch] = useStateValue();\n    const history = useHistory();\n\n    const stripe = useStripe();\n    const elements = useElements();\n\n    const [succeeded, setSucceeded] = useState(false);\n    const [processing, setProcessing] = useState(\"\");\n    const [error, setError] = useState(null);\n    const [disabled, setDisabled] = useState(true);\n    const [clientSecret, setClientSecret] = useState(true);\n\n    //VV IMPORTANT\n    useEffect(() => {\n        const getClientSecret = async () => {\n            const response = await Axios({\n                method: \"post\",\n                //Stripe expects the total in a currencies subunits\n                url: `/payments/create?total=${getBasketTotal(basket) * 100}`,\n            });\n            setClientSecret(response.data.clientSecret);\n        };\n        getClientSecret();\n    }, [basket]);\n\n    console.log(\"THE SECRET IS >>>\", clientSecret);\n    console.log(\"PERSON >>> \", user);\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setProcessing(true);\n\n        const payload = await stripe\n            .confirmCardPayment(clientSecret, {\n                payment_method: {\n                    card: elements.getElement(CardElement),\n                },\n            })\n            .then(({ paymentIntent }) => {\n                //paymenetintent is the payment confirmation\n\n                db.collection(\"users\")\n                    .doc(user?.uid)\n                    .collection(\"orders\")\n                    .doc(paymentIntent.id)\n                    .set({\n                        basket: basket,\n                        amount: paymentIntent.amount,\n                        created: paymentIntent.created,\n                    });\n\n                setSucceeded(true);\n                setError(null);\n                setProcessing(false);\n\n                dispatch({\n                    type: \"EMPTY_BASKET\",\n                });\n\n                history.replace(\"/orders\");\n            });\n    };\n    const handleChange = (e) => {\n        setDisabled(e.empty);\n        setError(e.error ? e.error.message : \"\");\n    };\n\n    return (\n        <div className=\"payment\">\n            <div className=\"payment__container\">\n                <h1>\n                    Checkout (<Link to=\"/checkout\">{basket?.length} items</Link>\n                    )\n                </h1>\n                {/* delivery address */}\n                <div className=\"payment__section\">\n                    <div className=\"payment__title\">\n                        <h3>Delivery Address</h3>\n                    </div>\n                    <div className=\"payment__address\">\n                        <p>{user?.email}</p>\n                        <p>123 Home Road</p>\n                        <p>Bengaluru-123</p>\n                    </div>\n                </div>\n                {/* review items */}\n                <div className=\"payment__section\">\n                    <div className=\"payment__title\">\n                        <h3>Review items and delivery</h3>\n                    </div>\n                    <div className=\"payment__items\">\n                        {basket.map((item) => (\n                            <CheckoutProduct\n                                title={item.title}\n                                price={item.price}\n                                rating={item.rating}\n                            />\n                        ))}\n                    </div>\n                </div>\n                {/* payment method */}\n                <div className=\"payment__section\">\n                    <div className=\"payment__title\">\n                        <h3>Payment Method</h3>\n                    </div>\n                    <div className=\"payment__details\">\n                        <form onSubmit={handleSubmit}>\n                            <CardElement onChange={handleChange} />\n                            <div className=\"payment__priceContainer\">\n                                <CurrencyFormat\n                                    renderText={(value) => (\n                                        <>\n                                            <h3>Order Total: {value}</h3>\n                                        </>\n                                    )}\n                                    decimalScale={2}\n                                    value={getBasketTotal(basket)}\n                                    displayType={\"text\"}\n                                    thousandSeparator={true}\n                                    prefix={\"₹\"}\n                                />\n                                <button\n                                    disabled={\n                                        processing || disabled || succeeded\n                                    }\n                                >\n                                    <span>\n                                        {processing ? (\n                                            <p>Processing</p>\n                                        ) : (\n                                            \"Buy Now\"\n                                        )}\n                                    </span>\n                                </button>\n                            </div>\n                            {/* Errors */}\n                            {error && <div>{error}</div>}\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Payment;\n","import React from \"react\";\nimport \"./Order.css\";\nimport moment from \"moment\";\nimport CheckoutProduct from \"./CheckoutProduct\";\nimport CurrencyFormat from \"react-currency-format\";\n\nfunction Order({ order }) {\n    return (\n        <div className=\"order\">\n            <h2>Order</h2>\n            <p>\n                {moment.unix(order.data.created).format(\"MMMM Do YYYY, h:mma\")}\n            </p>\n            <p className=\"order__id\">\n                <small>{order.id}</small>\n            </p>\n            {order.data.basket?.map((item) => (\n                <CheckoutProduct\n                    title={item.title}\n                    price={item.price}\n                    rating={item.rating}\n                    hideButton\n                />\n            ))}\n            <CurrencyFormat\n                renderText={(value) => (\n                    <h3 className=\"order__total\">Order Total: {value}</h3>\n                )}\n                decimalScale={2}\n                value={order.data.amount / 100}\n                displayType={\"text\"}\n                thousandSeparator={true}\n                prefix={\"₹\"}\n            />\n        </div>\n    );\n}\n\nexport default Order;\n","import React, { useState, useEffect } from \"react\";\nimport { db } from \"./firebase\";\nimport \"./Orders.css\";\nimport { useStateValue } from \"./StateProvider\";\nimport Order from \"./Order\";\n\nfunction Orders() {\n    const [order, setOrders] = useState([]);\n    const [{ basket, user }, dispatch] = useStateValue();\n\n    useEffect(() => {\n        if (user) {\n            db.collection(\"users\")\n                .doc(user?.uid)\n                .collection(\"orders\")\n                .orderBy(\"created\", \"desc\")\n                .onSnapshot((snapshot) =>\n                    setOrders(\n                        snapshot.docs.map((doc) => ({\n                            id: doc.id,\n                            data: doc.data(),\n                        }))\n                    )\n                );\n        } else {\n            setOrders([]);\n        }\n    }, [user]);\n\n    return (\n        <div className=\"orders\">\n            <h1>Your Orders</h1>\n            <div className=\"orders__order\">\n                {order?.map((order) => (\n                    <Order order={order} />\n                ))}\n            </div>\n        </div>\n    );\n}\n\nexport default Orders;\n","import \"./App.css\";\nimport Header from \"./Header\";\nimport React, { useEffect } from \"react\";\nimport Home from \"./Home\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Checkout from \"./Checkout\";\nimport Login from \"./Login\";\nimport { auth } from \"./firebase\";\nimport { useStateValue } from \"./StateProvider\";\nimport Payment from \"./Payment\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport Orders from \"./Orders\";\n\nconst promise = loadStripe(\n    \"pk_test_51HvJvWI2dC9ztPW9mlL63SuX0klRORJ9kYlPD5T531ggTJScO5xgLWHwlRlLrZtp3gxJvLrHal2zt48Rye07Fumu00m0kYZRfs\"\n);\n\nfunction App() {\n    const [{}, dispatch] = useStateValue();\n    useEffect(() => {\n        auth.onAuthStateChanged((authUser) => {\n            console.log(\"THE USER IS >>> \", authUser);\n            if (authUser) {\n                //user logged in\n                dispatch({\n                    type: \"SET_USER\",\n                    user: authUser,\n                });\n            } else {\n                //user logged out\n                dispatch({\n                    type: \"SET_USER\",\n                    user: null,\n                });\n            }\n        });\n    }, []);\n\n    return (\n        <Router>\n            <div className=\"App\">\n                <Switch>\n                    <Route path=\"/orders\">\n                        <Header />\n                        <Orders />\n                    </Route>\n                    <Route path=\"/login\">\n                        <Login />\n                    </Route>\n                    <Route path=\"/checkout\">\n                        <Header />\n                        <Checkout />\n                    </Route>\n                    <Route path=\"/payment\">\n                        <Header />\n                        <Elements stripe={promise}>\n                            <Payment />\n                        </Elements>\n                    </Route>\n                    <Route path=\"/\">\n                        <Header />\n                        <Home />\n                    </Route>\n                </Switch>\n            </div>\n        </Router>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport reducer, { initialState } from \"./reducer\";\nimport { StateProvider } from \"./StateProvider\";\n// import * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <StateProvider initialState={initialState} reducer={reducer}>\n            <App />\n        </StateProvider>\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}